{% load static %}
<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    {#    <link href="{% static 'login/css/login.css' %}" rel="stylesheet"/>#}
    <!-- Bootstrap 3.3.7 -->
    <link rel="stylesheet" href="{% static 'adminlet-2.4.10/bower_components/bootstrap/dist/css/bootstrap.min.css' %}">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="{% static 'adminlet-2.4.10/bower_components/font-awesome/css/font-awesome.min.css' %}">
    <!-- Ionicons -->
    <link rel="stylesheet" href="{% static 'adminlet-2.4.10/bower_components/Ionicons/css/ionicons.min.css' %}">
    <!-- Theme style -->
    <link rel="stylesheet" href="{% static 'adminlet-2.4.10/dist/css/AdminLTE.min.css' %}">
    <!-- iCheck -->
    <link rel="stylesheet" href="{% static 'adminlet-2.4.10/plugins/iCheck/square/blue.css' %}">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
    <!-- Google Font -->
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">

    <title>注册</title>
</head>
<body class="hold-transition register-page" style="background-color: #2b2b2b">

<div class="register-box" style="width: 22%;min-width: 360px;margin-top: 3.5%">
  <div class="register-logo">
    <a href="#" style="color: #fcd3a1;">PISTON-<b>SUPPORT</b></a>
  </div>
<div class="register-box-body" style="box-shadow: 10px 10px 20px rgba(255, 255, 255, .6), inset 0 0 40px rgba(255, 255, 255, 1);">
    <p class="login-box-msg">Register a new membership</p>
        <form class="form-register" action="/register/" method="post">

            {% if register_form.captcha.errors %}
                <div class="alert alert-warning">{{ register_form.captcha.errors }}</div>
            {% elif message %}
                <div class="alert alert-warning">{{ message }}</div>
            {% endif %}

            {% csrf_token %}


            <div class="form-group has-feedback">
                {{ register_form.username.label_tag }}
                {{ register_form.username }}
                <span class="glyphicon glyphicon-user form-control-feedback"></span>
            </div>
            <div class="form-group has-feedback">
                {{ register_form.password1.label_tag }}
                {{ register_form.password1 }}
                <span class="glyphicon glyphicon-lock form-control-feedback"></span>
            </div>
            <div class="form-group has-feedback">
                {{ register_form.password2.label_tag }}
                {{ register_form.password2 }}
                <span class="glyphicon glyphicon-log-in form-control-feedback"></span>
            </div>
            <div class="form-group has-feedback">
                {{ register_form.email.label_tag }}
                {{ register_form.email }}
                <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
            </div>
        <div class="form-group has-feedback">
                {{ register_form.phone.label_tag }}
                {{ register_form.phone }}
                <span class="glyphicon glyphicon-phone form-control-feedback"></span>
            </div>
        <div class="form-group has-feedback" style="display: inline">
                {{ register_form.apartment.label_tag }}
                {{ register_form.apartment }}
            </div>
            <div class="form-group has-feedback" style="display: inline">
                {{ register_form.sex.label_tag }}
                {{ register_form.sex }}
            </div>

            <div class="form-group has-feedback" style="display: inline;float: right">
                {{ register_form.role.label_tag }}
                {{ register_form.role }}
            </div><hr style="background-color:#bfbdb9;height: 1px;width:100%;border: none;"/>
            <div class="form-group">
                {{ register_form.captcha.label_tag }}
                {{ register_form.captcha }}
                <button  id='js-captcha-refresh'  type="button" ><i class="fa fa-refresh"></i></button>
            </div>


            <div style="align-content: center">
                <a href="/login/" class="text-success" style="display: inline-block;margin-top: 15px">
                    <ins>直接登录</ins>
                </a>
                <button type="submit" class="btn btn-primary" style="float: right">注册</button>
            </div>
        </form>
<div class="social-auth-links text-center">
      <p>—— OR ——</p>
      <a href="#" class="btn btn-block btn-social btn-success btn-flat"><i class="fa fa-wechat"></i> Sign in using
        Wechat</a>
      <a href="#" class="btn btn-block btn-social btn-danger btn-flat"><i class="fa fa-weibo"></i> Sign in using
        Weibo</a>
    </div>
    </div>
</div> <!-- /container -->

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<!-- jQuery 3 -->
<script src="{% static 'adminlet-2.4.10/bower_components/jquery/dist/jquery.min.js' %}"></script>
<script>

  $('#js-captcha-refresh').click(function () {
                $.getJSON('/refresh_captcha/', function (result) {
                    $('.captcha').attr('src', result['image_url']);
                    $('#id_captcha_0').val(result['hashkey'])
                });
            });

</script>

</body>
</html>